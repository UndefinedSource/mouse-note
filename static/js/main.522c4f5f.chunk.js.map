{"version":3,"sources":["helper/constants.js","helper/canvas.js","helper/shape.js","helper/style.js","helper/color.js","helper/regrex.js","components/ShapePreviewer.tsx","hooks/useEventListener.tsx","components/Cursor.tsx","components/Canvas.tsx","components/Functions.tsx","components/Panel.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["exports","__esModule","EVENT_LISTENER","APP_SETTING","CURSOR_CLASS","KEYBOARD_KEY","TOOL_MODE","CURSOR_STYLE","COLOR","BLACK","WHITE","RED","GREEN","BLUE","CROSSHAIR","CIRCLE","SQUARE","TEXT","PEN","SHAPE","RECT","ELLIPSE","E","SHIFT","SHAPE_RECT","SHAPE_ELLIPSE","CANVAS","BACKGROUND_COLOR","TOOL","MODE","SIZE","GRID","LINE_WIDTH","GAP","RESIZE","MOUSE","UP","DOWN","MOVE","KEY","TOUCH","START","END","drawCircle","ctx","x","y","radius","strokeColor","fillColor","beginPath","lineWidth","this","strokeStyle","arc","Math","PI","fillStyle","fill","stroke","drawEllipse","radiusX","radiusY","ellipse","drawLine","lineTo","drawSquare","sideLen","fillRect","drawRectangle","width","height","finishDraw","getHalfLineWidth","getTriangleHypotenuse","sqrt","getX","toolSize","getY","getRadius","isEndXLeft","x1","x2","isEndYDown","y1","y2","getWidth","getHeight","getMinSideLength","startX","startY","endX","endY","abs","getCenterPosition","getEllipse","_a","getCircle","getRegularShape","sideLength","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","STYLE","getPosition","getWidthAndHeight","getPen","size","color","halfSize","getSquare","getShapePreview","backgroundColor","displayConditions","showDisplay","every","cond","getCirclePreview","style","hexAlphabets","convertHexToRgb","value","parseInt","substr","convertNumToHex","hex","toString","convertDecimalToHex","priorDigit","convertRgbToHex","rgbEachValues","match","_i","rgbEachValues_1","rgbValue","Number","REGREX","getRegrexNumberRange","start","end","RegExp","ShapePreviewer","dragPosition","isShiftKeyOn","toolColor","toolMode","position","previewConditions","regularShape","useCallback","rectanglePreviewStyle","useMemo","ellipsePreviewStyle","squarePreviewStyle","circlePreviewStyle","className","getShapePreviewStyle","useEventListener","eventName","func","eventHandler","e","useEffect","window","addEventListener","removeEventListener","Cursor","React","memo","canvasRef","panelRef","tool","useState","setPosition","setDragPosition","drawable","setDrawable","setIsShiftKeyOn","getCanvasContext","current","getContext","getPanelHeight","clientHeight","isShapeMode","values","some","mode","getDragPosition","getPreviewConditions","getShapeEllipse","getShapeCircle","drawShapeRectangle","drawShapeSquare","drawShapeEllipse","drawShapeCircle","drawPen","draw","mouseUp","mouseDown","prevState","mouseMove","touchMove","targetTouches","clientX","clientY","keyUp","keyDown","key","id","getCursorStyle","Canvas","forwardRef","ref","hasGrid","rows","cols","lineGap","grid","setGrid","innerWidth","innerHeight","createGrid","gridLines","push","BackgroundPicker","props","type","defaultValue","onChange","handleBackgroundColorChange","Grid","onClick","handleOnClick","TrashCan","Save","Panel","handleCanvasBackgroundColorChange","handleCanvasClear","handleExportAsImage","handleGridShow","handleToolColorChange","handleToolModeChange","handleToolSizeChange","toolSizeRef","useRef","canvasBackgroundPickerRef","colors","modes","name","shapeModes","colorNum","map","min","max","currentTarget","COLOR_CONVERTER","changeToolColor","App","setHasGrid","canvas","setCanvas","setTool","changeToolMode","changeToolSize","changeCanvasBackgroundColor","clearCanvas","clearRect","resize","outerWidth","image","toDataURL","anchorElement","document","createElement","download","href","click","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"+FAAAA,EAAQC,YAAa,EACrBD,EAAQE,eAAiBF,EAAQG,YAAcH,EAAQI,aAAeJ,EAAQK,aAAeL,EAAQM,UAAYN,EAAQO,aAAeP,EAAQQ,WAAQ,EACxJR,EAAQQ,MAAQ,CACZC,MAAO,qBACPC,MAAO,qBACPC,IAAK,qBACLC,MAAO,qBACPC,KAAM,sBAEVb,EAAQO,aAAe,CACnBO,UAAW,mBACXC,OAAQ,gBACRC,OAAQ,gBACRC,KAAM,eAEVjB,EAAQM,UAAY,CAChBY,IAAK,MACLH,OAAQ,SACRC,OAAQ,SACRG,MAAO,CACHC,KAAM,aACNC,QAAS,kBAGjBrB,EAAQK,aAAe,CACnBiB,EAAG,IACHC,MAAO,SAGXvB,EAAQI,aAAe,CACnBc,IAAKlB,EAAQO,aAAaO,UAC1BC,OAAQf,EAAQO,aAAaQ,OAC7BC,OAAQhB,EAAQO,aAAaS,OAC7BQ,WAAYxB,EAAQO,aAAaO,UACjCW,cAAezB,EAAQO,aAAaO,UACpCG,KAAMjB,EAAQO,aAAaU,MAE/BjB,EAAQG,YAAc,CAClBuB,OAAQ,CACJC,iBAAkB3B,EAAQQ,MAAME,OAEpCkB,KAAM,CACFC,KAAM7B,EAAQM,UAAUY,IACxBV,MAAOR,EAAQQ,MAAMC,MACrBqB,KAAM,IAEVC,KAAM,CACFC,WAAY,EACZC,IAAK,KAGbjC,EAAQE,eAAiB,CACrBgC,OAAQ,SACRC,MAAO,CACHC,GAAI,UACJC,KAAM,YACNC,KAAM,aAEVC,IAAK,CACDH,GAAI,QACJC,KAAM,WAEVG,MAAO,CACHC,MAAO,aACPC,IAAK,WACLJ,KAAM,e,eCjEdtC,EAAQC,YAAa,EACrBD,EAAQ0B,YAAS,EACjB1B,EAAQ0B,OAAS,CACbM,WAAY,EACZW,WAAY,SAAUC,EAAKC,EAAGC,EAAGC,EAAQC,EAAaC,GAClDL,EAAIM,YACJN,EAAIO,UAAYC,KAAKpB,WACrBY,EAAIS,YAAcL,EAClBJ,EAAIU,IAAIT,EAAGC,EAAGC,EAAQ,EAAa,EAAVQ,KAAKC,IAAQ,GACtCZ,EAAIa,UAAYR,EAChBL,EAAIc,OACJd,EAAIe,UAERC,YAAa,SAAUhB,EAAKC,EAAGC,EAAGe,EAASC,EAASd,EAAaC,GAC7DL,EAAIM,YACJN,EAAIO,UAAYC,KAAKpB,WACrBY,EAAIS,YAAcL,EAClBJ,EAAImB,QAAQlB,EAAGC,EAAGe,EAASC,EAASP,KAAKC,GAAI,EAAa,EAAVD,KAAKC,IAAQ,GAC7DZ,EAAIa,UAAYR,EAChBL,EAAIc,OACJd,EAAIe,UAERK,SAAU,SAAUpB,EAAKC,EAAGC,EAAGK,EAAWH,GACtCJ,EAAIqB,OAAOpB,EAAGC,GACdF,EAAIS,YAAcL,EAClBJ,EAAIO,UAAYA,EAChBP,EAAIe,UAERO,WAAY,SAAUtB,EAAKC,EAAGC,EAAGqB,EAASlB,GACtCL,EAAIa,UAAYR,EAChBL,EAAIwB,SAASvB,EAAGC,EAAGqB,EAASA,IAEhCE,cAAe,SAAUzB,EAAKC,EAAGC,EAAGwB,EAAOC,EAAQtB,GAC/CL,EAAIa,UAAYR,EAChBL,EAAIwB,SAASvB,EAAGC,EAAGwB,EAAOC,IAE9BC,WAAY,SAAU5B,GAClBA,EAAIM,aAERuB,iBAAkB,WACd,OAAOrB,KAAKpB,WAAa,GAE7B0C,sBAAuB,SAAU7B,EAAGC,GAChC,OAAOS,KAAKoB,KAAM9B,EAAIA,EAAMC,EAAIA,IAEpC9B,OAAQ,CACJ4D,KAAM,SAAU/B,EAAGgC,GACf,OAAOhC,EAAKgC,EAAW,GAE3BC,KAAM,SAAUhC,EAAG+B,GACf,OAAOzB,KAAKwB,KAAK9B,EAAG+B,KAG5B9D,OAAQ,CAEJgE,UAAW,SAAUF,GACjB,IAAI9B,EAAU8B,EAAW,EAAK7E,EAAQ0B,OAAOM,WAC7C,OAAOe,EAAS,EAAIA,EAAS/C,EAAQ0B,OAAOM,WAAa,M,eCzDrEhC,EAAQC,YAAa,EACrBD,EAAQmB,WAAQ,EAChBnB,EAAQmB,MAAQ,CACZ6D,WAAY,SAAUC,EAAIC,GACtB,OAAQD,EAAKC,GAEjBC,WAAY,SAAUC,EAAIC,GACtB,OAAOjC,KAAK4B,WAAWI,EAAIC,IAE/BT,KAAM,SAAUK,EAAIC,GAChB,OAAQD,EAAKC,EAAMD,EAAKC,GAE5BJ,KAAM,SAAUM,EAAIC,GAChB,OAAOjC,KAAKwB,KAAKQ,EAAIC,IAEzBC,SAAU,SAAUL,EAAIC,GACpB,OAAQD,EAAKC,EAAOA,EAAKD,EAAOA,EAAKC,GAEzCK,UAAW,SAAUH,EAAIC,GACrB,OAAOjC,KAAKkC,SAASF,EAAIC,IAE7BG,iBAAkB,SAAUC,EAAQC,EAAQC,EAAMC,GAC9C,IAAItB,EAAQf,KAAKsC,IAAIF,EAAOF,GACxBlB,EAAShB,KAAKsC,IAAID,EAAOF,GAC7B,OAAOpB,EAAQC,EAASD,EAAQC,GAEpCuB,kBAAmB,SAAUL,EAAQC,EAAQC,EAAMC,GAG/C,MAAO,CAAE/C,GAFA4C,EAASE,GAAQ,EAEX7C,GADN4C,EAASE,GAAQ,IAG9BG,WAAY,SAAUN,EAAQC,EAAQC,EAAMC,GACxC,IAAII,EAAK5C,KAAK0C,kBAAkBL,EAAQC,EAAQC,EAAMC,GAGtD,MAAO,CAAE/C,EAHwDmD,EAAGnD,EAGrDC,EAH4DkD,EAAGlD,EAGzDe,QAFPT,KAAKkC,SAASG,EAAQE,GAAQ,EAEL7B,QADzBV,KAAKmC,UAAUG,EAAQE,GAAQ,IAIjDK,UAAW,SAAUR,EAAQC,EAAQC,EAAMC,GACvC,IAAI/C,EAAI4C,EACJ3C,EAAI4C,EACJ3C,EAASK,KAAKoC,iBAAiBC,EAAQC,EAAQC,EAAMC,GAAQ,EAC7DZ,EAAa5B,KAAK4B,WAAWS,EAAQE,GACrCR,EAAa/B,KAAK+B,WAAWO,EAAQE,GAiBzC,OAhBIZ,GAAcG,GACdtC,GAAKE,EACLD,GAAKC,IAECiC,GAAcG,GACpBtC,GAAKE,EACLD,GAAKC,GAEAiC,IAAeG,GACpBtC,GAAKE,EACLD,GAAKC,IAGLF,GAAKE,EACLD,GAAKC,GAEF,CAAEF,EAAGA,EAAGC,EAAGA,EAAGC,OAAQA,IAGjCmD,gBAAiB,SAAUT,EAAQC,EAAQC,EAAMC,GAC7C,IAAIO,EAAa/C,KAAKoC,iBAAiBC,EAAQC,EAAQC,EAAMC,GACzD/C,EAAI4C,EACJ3C,EAAI4C,EACJV,EAAa5B,KAAK4B,WAAWS,EAAQE,GACrCR,EAAa/B,KAAK+B,WAAWO,EAAQE,GACzC,OAAIZ,GAAcG,KAGRH,GAAcG,EACpBtC,GAAKsD,EAEAnB,IAAeG,EACpBrC,GAAKqD,GAGLtD,EAAI4C,EAASU,EACbrD,EAAI4C,EAASS,IAVN,CAAEtD,EAAGA,EAAGC,EAAGA,EAAGqD,WAAYA,M,cCtE7C,IAAIC,EAAYhD,MAAQA,KAAKgD,UAAa,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAM7D,KAAMuD,YAEhC3G,EAAQC,YAAa,EACrBD,EAAQkH,WAAQ,EAChBlH,EAAQkH,MAAQ,CACZC,YAAa,SAAUtE,EAAGC,GACtB,MAAO,CACH,MAAOD,EAAI,KACX,MAAOC,EAAI,OAGnBsE,kBAAmB,SAAU9C,EAAOC,GAChC,MAAO,CACH,UAAWD,EAAQ,KACnB,WAAYC,EAAS,OAG7B8C,OAAQ,SAAUxE,EAAGC,EAAGwE,EAAMC,GAC1B,IAAIC,EAAWF,EAAO,EACtB,OAAOlB,EAASA,EAAS,GAAIhD,KAAK+D,YAAYtE,EAAI2E,EAAU1E,IAAK,CAAE,uBAAwB0E,EAAW,KAAM,wBAAyBA,EAAW,KAAM,SAAUF,EAAO,KAAM,UAAW,GAAKC,KAEjMtB,UAAW,SAAUpD,EAAGC,EAAGwE,EAAMC,GAC7B,IAAIC,EAAWF,EAAO,EACtB,OAAOlB,EAASA,EAAS,GAAIhD,KAAK+D,YAAYtE,EAAI2E,EAAU1E,EAAI0E,IAAY,CAAE,SAAUF,EAAO,KAAM,UAAW,GAAKC,KAEzHE,UAAW,SAAU5E,EAAGC,EAAGwE,EAAMC,GAC7B,OAAOnE,KAAK6C,UAAUpD,EAAGC,EAAGwE,EAAMC,IAEtCG,gBAAiB,SAAU7E,EAAGC,EAAGwB,EAAOC,EAAQoD,EAAiBC,GAC7D,IAAIC,EAAcD,EAAkBE,OAAM,SAAUC,GAAQ,OAAgB,IAATA,KACnE,OAAO3B,EAASA,EAASA,EAAS,GAAIhD,KAAK+D,YAAYtE,EAAGC,IAAKM,KAAKgE,kBAAkB9C,EAAOC,IAAU,CAAE,oBAAqB,GAAKoD,EAAiB,YAAmBE,EAAc,SAAW,UAEpMG,iBAAkB,SAAUnF,EAAGC,EAAGwB,EAAOC,EAAQoD,EAAiBC,GAC9D,IAAIK,EAAQ7E,KAAKsE,gBAAgB7E,EAAGC,EAAGwB,EAAOC,EAAQoD,EAAiBC,GAEvE,OADAK,EAAK,aAAmB,MACjBA,K,cC5CfjI,EAAQC,YAAa,EACrBD,EAAQQ,WAAQ,EAChBR,EAAQQ,MAAQ,CAEZ0H,aAAc,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,KACxCC,gBAAiB,SAAUC,GAIvB,MAAO,OAHQC,SAASD,EAAME,OAAO,EAAG,GAAI,IAGjB,IAFVD,SAASD,EAAME,OAAO,EAAG,GAAI,IAEA,IAD9BD,SAASD,EAAME,OAAO,EAAG,GAAI,IACmB,KAEpEC,gBAAiB,SAAUH,GACvB,IAEII,EAAMJ,EAAMK,WAIhB,OAHIL,EAHe,IAIfI,EAAMpF,KAAK8E,aAAaE,EAHb,KAKRI,GAEXE,oBAAqB,SAAUN,GAK3B,IAJA,IAEIO,EAAa,EAEVP,EAHS,IAIZA,GALgB,GAMhBO,IAIJ,MAAO,GAFavF,KAAKmF,gBAAgBI,GACnBvF,KAAKmF,gBANR,IASvBK,gBAAiB,SAAUR,GACvB,IAAII,EAAM,IAENK,EAAgBT,EAAMU,MAAM,WAChC,GAAID,EACA,IAAK,IAAIE,EAAK,EAAGC,EAAkBH,EAAeE,EAAKC,EAAgBpC,OAAQmC,IAAM,CACjF,IAAIE,EAAWD,EAAgBD,GAC/BP,GAAOpF,KAAKsF,oBAAoBQ,OAAOD,IAG/C,OAAOT,K,gBC3CfxI,EAAQC,YAAa,EACrBD,EAAQmJ,YAAS,EACjBnJ,EAAQmJ,OAAS,CACbC,qBAAsB,SAAUC,EAAOC,GACnC,OAAID,EACO,IAAIE,OAAO,IAAMF,EAAQ,IAAMC,EAAM,KAEzC,IAAIC,OAAO,MAAgBD,EAAM,Q,0ICSnCE,EAAkC,SAAC,GACwD,IAAlGC,EAAiG,EAAjGA,aAAcC,EAAmF,EAAnFA,aAAcC,EAAqE,EAArEA,UAAWC,EAA0D,EAA1DA,SAAUC,EAAgD,EAAhDA,SAAUC,EAAsC,EAAtCA,kBAAmBC,EAAmB,EAAnBA,aAE1ErC,EAAkBsC,uBAAY,WAKhC,MAAO,CAAEnH,EAJC1B,QAAMyD,KAAK6E,EAAa5G,EAAGgH,EAAShH,GAIlCC,EAHF3B,QAAM2D,KAAK2E,EAAa3G,EAAG+G,EAAS/G,GAG/BwB,MAFDnD,QAAMmE,SAASmE,EAAa5G,EAAGgH,EAAShH,GAEhC0B,OADPpD,QAAMoE,UAAUkE,EAAa3G,EAAG+G,EAAS/G,MAEzD,CAAC2G,EAAcI,IAEZI,EAAwBC,mBAAQ,WAAmB,IAAD,EACpBxC,IAAxB7E,EAD4C,EAC5CA,EAAGC,EADyC,EACzCA,EAAGwB,EADsC,EACtCA,MAAOC,EAD+B,EAC/BA,OAErB,OAAO2C,QAAMQ,gBAAgB7E,EAAGC,EAAGwB,EAAOC,EAAQoF,EAAWG,KAC9D,CAACH,EAAWG,EAAmBpC,IAE5ByC,EAAsBD,mBAAQ,WAAmB,IAAD,EAClBxC,IAAxB7E,EAD0C,EAC1CA,EAAGC,EADuC,EACvCA,EAAGwB,EADoC,EACpCA,MAAOC,EAD6B,EAC7BA,OAErB,OAAO2C,QAAMc,iBAAiBnF,EAAGC,EAAGwB,EAAOC,EAAQoF,EAAWG,KAC/D,CAACH,EAAWG,EAAmBpC,IAE5B0C,EAAqBF,mBAAQ,WAAmB,IAC1CrH,EAAqBkH,EAArBlH,EAAGC,EAAkBiH,EAAlBjH,EAAGqD,EAAe4D,EAAf5D,WAEd,OAAOe,QAAMQ,gBAAgB7E,EAAGC,EAAGqD,EAAYA,EAAYwD,EAAWG,KACvE,CAACH,EAAWI,EAAcD,IAEvBO,EAAqBH,mBAAQ,WAAmB,IAC1CrH,EAAqBkH,EAArBlH,EAAGC,EAAkBiH,EAAlBjH,EAAGqD,EAAe4D,EAAf5D,WAEd,OAAOe,QAAMc,iBAAiBnF,EAAGC,EAAGqD,EAAYA,EAAYwD,EAAWG,KACxE,CAACH,EAAWI,EAAcD,IAe7B,OACI,qBAAKQ,UAAU,kBAAkBrC,MAdR,WACzB,OAAQ2B,GACJ,KAAKtJ,YAAUa,MAAMC,KACjB,OAAQsI,EAAgBU,EAAqBH,EACjD,KAAK3J,YAAUa,MAAME,QACjB,OAAQqI,EAAgBW,EAAqBF,EAKrD,MAAO,GAIiCI,M,OC/DnCC,EAAmB,SAACC,EAAmBC,GAChD,IAAMC,EAAeX,uBAAY,SAACY,GAC9BF,EAAKE,KACN,CAACF,IAEJG,qBAAU,WAGN,OAFAC,OAAOC,iBAAiBN,EAAWE,GAE5B,WACHG,OAAOE,oBAAoBP,EAAWE,MAE3C,CAACF,EAAWE,KCENM,EAA0BC,IAAMC,MAAK,YAAoC,IAAjCC,EAAgC,EAAhCA,UAAWC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,KAAW,EACjDC,mBAAwB,CAAE1I,EAAG,EAAGC,EAAG,IADc,mBAC1E+G,EAD0E,KAChE2B,EADgE,OAEzCD,mBAA4B,CAAE1I,EAAG,EAAGC,EAAG,IAFE,mBAE1E2G,EAF0E,KAE5DgC,EAF4D,OAGjDF,oBAAkB,GAH+B,mBAG1EG,EAH0E,KAGhEC,EAHgE,OAIzCJ,oBAAkB,GAJuB,mBAI1E7B,EAJ0E,KAI5DkC,EAJ4D,KAiB3EC,EAAmB7B,uBAAY,WACjC,OAAOoB,EAAUU,QAAUV,EAAUU,QAAQC,WAAW,MAAQ,OACjE,CAACX,IAEEY,EAAiBhC,uBAAY,WAC/B,OAAOqB,EAASS,QAAUT,EAASS,QAAQG,aAAe,IAC3D,CAACZ,IAEEa,EAAclC,uBAAY,WAC5B,OAAO3D,OAAO8F,OAAO7L,YAAUa,OAAOiL,MAAK,SAAAC,GAAI,OAAIA,IAASf,EAAKe,UAClE,CAACf,EAAKe,OAEHC,EAAkBtC,uBAAY,WAChC,MAAO,CAAEnH,EAAG4G,EAAa5G,EAAGC,EAAG2G,EAAa3G,KAC7C,CAAC2G,IAEEtC,EAAc6C,uBAAY,WAC5B,MAAO,CAAEnH,EAAGgH,EAAShH,EAAGC,EAAG+G,EAAS/G,KACrC,CAAC+G,IAEE0C,EAAuBvC,uBAAY,WACrC,MAAO,CAAC0B,EAAUQ,OACnB,CAACR,EAAUQ,IAERhG,EAAkB8D,uBAAY,WAChC,OAAO7I,QAAM+E,gBAAgBuD,EAAa5G,EAAG4G,EAAa3G,EAAG+G,EAAShH,EAAGgH,EAAS/G,KACnF,CAAC+G,EAAUJ,IAER+C,EAAkBxC,uBAAY,WAChC,OAAO7I,QAAM4E,WAAW0D,EAAa5G,EAAG4G,EAAa3G,EAAG+G,EAAShH,EAAGgH,EAAS/G,KAC9E,CAAC+G,EAAUJ,IAERgD,EAAiBzC,uBAAY,WAC/B,OAAO7I,QAAM8E,UAAUwD,EAAa5G,EAAG4G,EAAa3G,EAAG+G,EAAShH,EAAGgH,EAAS/G,KAC7E,CAAC+G,EAAUJ,IAERiD,EAAqB1C,uBAAY,WACnC,IAAMpH,EAAMiJ,IACZ,GAAKjJ,EAAL,CAEA,IAAME,EAAI2G,EAAa3G,EAAIkJ,IACrB1H,EAAQuF,EAAShH,EAAI4G,EAAa5G,EAClC0B,EAASsF,EAAS/G,EAAI2G,EAAa3G,EAEzCpB,SAAO2C,cAAczB,EAAK6G,EAAa5G,EAAGC,EAAGwB,EAAOC,EAAQ+G,EAAK/D,UAClE,CAACsC,EAAUJ,EAAc6B,EAAK/D,MAAOsE,EAAkBG,IAEpDW,EAAkB3C,uBAAY,WAChC,IAAMpH,EAAMiJ,IACZ,GAAKjJ,EAAL,CAF4C,MAIfsD,IAArBrD,EAJoC,EAIpCA,EAAGC,EAJiC,EAIjCA,EAAGqD,EAJ8B,EAI9BA,WACdzE,SAAOwC,WAAWtB,EAAKC,EAAGC,EAAIkJ,IAAkB7F,EAAYmF,EAAK/D,UAClE,CAAC+D,EAAK/D,MAAOsE,EAAkBG,EAAgB9F,IAE5C0G,EAAmB5C,uBAAY,WACjC,IAAMpH,EAAMiJ,IACZ,GAAKjJ,EAAL,CAF6C,MAIV4J,IAA3B3J,EAJqC,EAIrCA,EAAGC,EAJkC,EAIlCA,EAAGe,EAJ+B,EAI/BA,QAASC,EAJsB,EAItBA,QACvBpC,SAAOkC,YAAYhB,EAAKC,EAAGC,EAAIkJ,IAAkBnI,EAASC,EAASwH,EAAK/D,MAAO+D,EAAK/D,UACrF,CAAC+D,EAAK/D,MAAOsE,EAAkBG,EAAgBQ,IAE5CK,EAAkB7C,uBAAY,WAChC,IAAMpH,EAAMiJ,IACZ,GAAKjJ,EAAL,CAF4C,MAInB6J,IAAjB5J,EAJoC,EAIpCA,EAAGC,EAJiC,EAIjCA,EAAGC,EAJ8B,EAI9BA,OACdrB,SAAOiB,WAAWC,EAAKC,EAAGC,EAAIkJ,IAAkBjJ,EAAQuI,EAAK/D,MAAO+D,EAAK/D,UAC1E,CAAC+D,EAAK/D,MAAOsE,EAAkBG,EAAgBS,IAE5CK,EAAU9C,uBAAY,WACxB,IAAMpH,EAAMiJ,IACZ,GAAKjJ,EAAL,CAEA,IAAME,EAAI+G,EAAS/G,EAAIkJ,IACvBtK,SAAOsC,SAASpB,EAAKiH,EAAShH,EAAGC,EAAGwI,EAAKhE,KAAMgE,EAAK/D,UACrD,CAACsC,EAAUyB,EAAKhE,KAAMgE,EAAK/D,MAAOsE,EAAkBG,IAEjDrJ,EAAaqH,uBAAY,WAC3B,IAAMpH,EAAMiJ,IACZ,GAAKjJ,EAAL,CAEA,IAAME,EAAI+G,EAAS/G,EAAIkJ,IACjBjJ,EAASrB,SAAOX,OAAOgE,UAAUuG,EAAKhE,MAC5C5F,SAAOiB,WAAWC,EAAKiH,EAAShH,EAAGC,EAAGC,EAAQuI,EAAK/D,MAAO+D,EAAK/D,UAChE,CAACsC,EAAUyB,EAAK/D,MAAO+D,EAAKhE,KAAMuE,EAAkBG,IAEjD9H,EAAa8F,uBAAY,WAC3B,IAAMpH,EAAMiJ,IACZ,GAAKjJ,EAAL,CAEA,IAAMC,EAAInB,SAAOV,OAAO4D,KAAKiF,EAAShH,EAAGyI,EAAKhE,MACxCxE,EAAIpB,SAAOV,OAAO8D,KAAK+E,EAAS/G,EAAGwI,EAAKhE,MAAQ0E,IACtDtK,SAAOwC,WAAWtB,EAAKC,EAAGC,EAAGwI,EAAKhE,KAAMgE,EAAK/D,UAC9C,CAACsC,EAAUyB,EAAK/D,MAAO+D,EAAKhE,KAAMuE,EAAkBG,IAEjDe,EAAO/C,uBAAY,WAAa,IAC1B9I,EAAwBZ,YAAxBY,IAAKH,EAAmBT,YAAnBS,OAAQC,EAAWV,YAAXU,OACrB,OAAQsK,EAAKe,MACT,KAAKnL,EACD4L,IACA,MACJ,KAAK/L,EACD4B,IACA,MACJ,KAAK3B,EACDkD,OAKT,CAACoH,EAAKe,KAAMS,EAASnK,EAAYuB,IAE9B8I,EAAUhD,uBAAY,WAMxB,OALA2B,GAAY,GAKJL,EAAKe,MACT,KAAK/L,YAAUa,MAAMC,KAChBsI,EAAgBiD,IAAoBD,IACrC,MACJ,KAAKpM,YAAUa,MAAME,QAChBqI,EAAgBmD,IAAoBD,IAM7C,IAAMhK,EAAMiJ,IACPjJ,GAELlB,SAAO8C,WAAW5B,KACnB,CAAC0I,EAAKe,KAAM3C,EAAcgD,EAAoBC,EAAiBC,EAAkBC,EAAkBhB,IAEhGoB,EAAYjD,uBAAY,WAC1B2B,GAAY,GAERO,KACAT,GAAgB,SAAAyB,GAAS,kCAClBA,GADkB,IAErBrK,EAAGgH,EAAShH,EACZC,EAAG+G,EAAS/G,SAGrB,CAAC+G,EAAUqC,IAERiB,EAAYnD,uBAAY,SAACY,GAC3BY,GAAY,SAAA0B,GAAS,kCACdA,GADc,IAEjBrK,EAAG+H,EAAE/H,EACLC,EAAG8H,EAAE9H,SAEV,IAEGsK,EAAYpD,uBAAY,SAACY,GAC3BY,GAAY,SAAA0B,GAAS,kCACdA,GADc,IAEjBrK,EAAG+H,EAAEyC,cAAc,GAAGC,QACtBxK,EAAG8H,EAAEyC,cAAc,GAAGE,eAE3B,IAEGC,EAAQxD,uBAAY,WACtB4B,GAAgB,KACjB,IAEG6B,EAAUzD,uBAAY,SAACY,GACzBgB,EAAgBhB,EAAE8C,MAAQrN,eAAakB,SACxC,IAmBH,OAjBAsJ,qBAAU,WACFa,GACAqB,MAEL,CAACrB,EAAUqB,IAEdvC,EAAiBtK,iBAAeiC,MAAMC,GAAI4K,GAC1CxC,EAAiBtK,iBAAeiC,MAAME,KAAM4K,GAC5CzC,EAAiBtK,iBAAeiC,MAAMG,KAAM6K,GAE5C3C,EAAiBtK,iBAAeqC,IAAIH,GAAIoL,GACxChD,EAAiBtK,iBAAeqC,IAAIF,KAAMoL,GAE1CjD,EAAiBtK,iBAAesC,MAAMC,MAAOwK,GAC7CzC,EAAiBtK,iBAAesC,MAAME,IAAKsK,GAC3CxC,EAAiBtK,iBAAesC,MAAMF,KAAM8K,GAGxC,qCACI,qBAAKO,GAAG,SAASrD,UAAWlK,eAAakL,EAAKe,MAAOpE,MA3MtC,WACnB,OAAQqD,EAAKe,MACT,KAAK/L,YAAUS,OACX,OAAOmG,QAAMjB,UAAU4D,EAAShH,EAAGgH,EAAS/G,EAAGwI,EAAKhE,KAAMgE,EAAK/D,OACnE,KAAKjH,YAAUU,OACX,OAAOkG,QAAMO,UAAUoC,EAAShH,EAAGgH,EAAS/G,EAAGwI,EAAKhE,KAAMgE,EAAK/D,OAGvE,OAAOL,QAAMG,OAAOwC,EAAShH,EAAGgH,EAAS/G,EAAGwI,EAAKhE,KAAMgE,EAAK/D,OAmMIqG,KAC5D,cAAC,EAAD,CAAgBhE,SAAU0B,EAAKe,KAAM1C,UAAW2B,EAAK/D,MAAOmC,aAAcA,EACtED,aAAqB6C,IACrBzC,SAAqB1C,IACrB2C,kBAAqByC,IACrBxC,aAAqB7D,YCvNxB2H,EAA0B3C,IAAMC,KAAKD,IAAM4C,YAAuB,WACrCC,GAAS,IAA7CzJ,EAA4C,EAA5CA,MAAOC,EAAqC,EAArCA,OAAQyJ,EAA6B,EAA7BA,QAAS3C,EAAoB,EAApBA,SAAoB,EACtBE,mBAAoB,CACxC1I,EAAG,EACHC,EAAG,EACHmL,KAAM,EACNC,KAAM,EACNC,QAAShO,cAAY4B,KAAKE,MANgB,mBACvCmM,EADuC,KACjCC,EADiC,KASxCrC,EAAiBhC,uBAAY,WAC/B,OAAQqB,EAASS,QAAWT,EAASS,QAAQG,aAAe,IAC7D,CAACZ,IAEJR,qBAAU,WACNwD,GAAQ,SAAAnB,GAAS,kCACVA,GADU,IAEbrK,EAAG,EACHC,EAAGkJ,IACHkC,KAAMpD,OAAOwD,WACbL,KAAMnD,OAAOyD,mBAElB,CAACvC,IAEJ,IAAMwC,EAAaxE,uBAAY,WAG3B,IAFA,IAAIyE,EAAkC,GAE7BhI,EAAI2H,EAAKtL,EAAG2D,EAAI2H,EAAKH,KAAOG,EAAKtL,EAAG2D,GAAK2H,EAAKD,QACnDM,EAAUC,KACN,sBAAMpE,UAAU,uBACZrC,MAAO,CAAE,IAAM,GAAN,OAAUxB,EAAV,QADb,oBAAyDA,KAKjE,IAAK,IAAIA,EAAI,EAAGA,EAAI2H,EAAKF,KAAMzH,GAAK2H,EAAKD,QACrCM,EAAUC,KACN,sBAAMpE,UAAU,qBACZrC,MAAO,CACH,IAAM,GAAN,OAAUmG,EAAKtL,EAAf,MACA,KAAO,GAAP,OAAW2D,EAAX,MACA,OAAS,eAAT,OAAyB2H,EAAKtL,EAA9B,SAJR,kBAAqD2D,KAU7D,OAAOgI,IACR,CAACL,IAYJ,OAVAvD,qBAAU,WACNwD,GAAQ,SAAAnB,GAAS,kCACVA,GADU,IAEbrK,EAAG,EACHC,EAAGkJ,IACHkC,KAAM5J,EACN2J,KAAM1J,SAEX,CAACD,EAAOC,EAAQyH,IAGf,qCACI,wBAAQ2B,GAAG,SAASI,IAAKA,EAAKzJ,MAAOA,EAAOC,OAAQA,IACnDyJ,GAAWQ,W,OC9DXG,EAA8CzD,IAAMC,KAAKD,IAAM4C,YAAiC,SAACc,EAAOb,GACjH,OACI,uBAAOc,KAAK,QAAQvE,UAAU,2BAC1ByD,IAAKA,EAAKe,aAAcF,EAAME,aAC9BC,SAAU,SAACnE,GAAD,OAAOgE,EAAMI,4BAA4BpE,UAKlDqE,EAAwB/D,IAAMC,MAAK,SAACyD,GAC7C,OACI,wBAAQtE,UAAU,YAAY4E,QAAS,kBAAMN,EAAMO,sBAI9CC,EAA4BlE,IAAMC,MAAK,SAACyD,GACjD,OACI,wBAAQtE,UAAU,iBAAiB4E,QAAS,kBAAMN,EAAMO,sBAInDE,EAAwBnE,IAAMC,MAAK,SAACyD,GAC7C,OACI,wBAAQtE,UAAU,YAAY4E,QAAS,kBAAMN,EAAMO,sB,QChB9CG,EAAyBpE,IAAMC,KAAKD,IAAM4C,YAAuB,WAG3BC,GAAS,IAFtDlJ,EAEqD,EAFrDA,SAAU0K,EAE2C,EAF3CA,kCAAmCC,EAEQ,EAFRA,kBAC/CC,EACuD,EADvDA,oBAAqBC,EACkC,EADlCA,eAAgBC,EACkB,EADlBA,sBACrCC,EAAuD,EAAvDA,qBAAsBC,EAAiC,EAAjCA,qBAEhBC,EAAcC,iBAAyB,MACvCC,EAA4BD,iBAAyB,MAErDE,EAAS/F,mBAAQ,WACnB,MAAQ,CACJ1J,QAAMC,MACND,QAAME,MACNF,QAAMG,IACNH,QAAMI,MACNJ,QAAMK,QAEX,IAEGqP,EAAQhG,mBAAQ,WAClB,MAAQ,CACJ,CAAEI,UAAW,MAAO6F,KAAM7P,YAAUY,KACpC,CAAEoJ,UAAW,SAAU6F,KAAM7P,YAAUS,QACvC,CAAEuJ,UAAW,SAAU6F,KAAM7P,YAAUU,WAE5C,IAEGoP,EAAalG,mBAAQ,WACvB,MAAQ,CACJ,CAAEI,UAAW,UAAW6F,KAAM7P,YAAUa,MAAME,SAC9C,CAAEiJ,UAAW,OAAQ6F,KAAM7P,YAAUa,MAAMC,SAEhD,IAEGqM,EAAUzD,uBAAY,SAACY,GACzB,GAAsB,IAAlBqF,EAAOrJ,OAAX,CAGA,IAAMyJ,EAAmBlH,SAAOC,qBAAqB,EAAG6G,EAAOrJ,QAE3DgE,EAAE8C,IAAI5E,MAAMuH,IACZV,EAAsBM,EAAO/G,OAAO0B,EAAE8C,KAAO,OAElD,CAACiC,EAAuBM,IAc3B,OAFAzF,EAAiBtK,iBAAeqC,IAAIF,KAAMoL,GAGtC,sBAAKE,GAAG,QAAQI,IAAKA,EAArB,UACI,qBAAKzD,UAAU,YAAf,SACK4F,EAAMI,KAAI,SAACjE,GAAD,OACP,wBAAkC/B,UAAS,eAAU+B,EAAK/B,WACtD4E,QAAS,kBAAMU,EAAqBvD,EAAK8D,QAD7C,eAAqB9D,EAAK8D,YAKlC,sBAAK7F,UAAU,YAAf,UACI,uBAAOA,UAAU,WAAjB,SAA6BzF,IAC7B,uBAAOgK,KAAK,QAAQvE,UAAU,WAAWqD,GAAG,cAAc4C,IAAI,IAAIC,IAAI,MAClEzC,IAAK+B,EAAahB,aAAcjK,EAChCkK,SAAU,SAACnE,GAAD,OAAOiF,EAAqBjF,EAAE6F,cAAcrI,aAG9D,sBAAKkC,UAAU,gBAAf,UACK2F,EAAOK,KAAI,SAAA/I,GAAK,OACb,wBAAoB+C,UAAU,YAC1BrC,MAAO,CAACN,gBAAiBJ,GACzB2H,QAAS,kBAAMS,EAAsBpI,KAF5BA,MAKjB,uBAAOsH,KAAK,QAAQvE,UAAU,oBAC1BwE,aAAc4B,QAAgB9H,gBAAgBpI,QAAME,OACpDqO,SAAU,SAACnE,GAAD,OArCF,SAACA,GACrB,IAAMrD,EAAgBmJ,QAAgBvI,gBAAgByC,EAAE6F,cAAcrI,OACtEuH,EAAsBpI,GAmCOoJ,CAAgB/F,SAG1C,sBAAKN,UAAU,WAAf,UACM8F,EAAWE,KAAI,SAACjE,GAAD,OACR,wBAAqC/B,UAAS,eAAU+B,EAAK/B,WACzD4E,QAAS,kBAAMU,EAAqBvD,EAAK8D,QAD7C,kBAAwB9D,EAAK8D,UAIrC,cAACxB,EAAD,CAAkBZ,IAAKiC,EACnBlB,aAAc4B,QAAgB9H,gBAAgBzI,cAAYuB,OAAOC,kBACjEqN,4BA3Cc,SAACpE,GAC3B,IAAMrD,EAAgBmJ,QAAgBvI,gBAAgByC,EAAE6F,cAAcrI,OACtEmH,EAAkChI,MA2C1B,cAAC0H,EAAD,CAAME,cAAe,kBAAMO,OAC3B,cAACN,EAAD,CAAUD,cAAe,kBAAMK,OAC/B,cAACH,EAAD,CAAMF,cAAe,kBAAMM,iBC5G9BmB,G,MAAgB,WAC3B,IAAMxF,EAAY2E,iBAA0B,MACtC1E,EAAW0E,iBAAuB,MAFP,EAGHxE,oBAAkB,GAHf,mBAG1ByC,EAH0B,KAGjB6C,EAHiB,OAILtF,mBAAsB,CAAEjH,MAAO,EAAGC,OAAQ,IAJrC,mBAI1BuM,EAJ0B,KAIlBC,EAJkB,OAKTxF,mBAAoB,CAC1ChE,MAAOpH,cAAYyB,KAAKpB,MACxB6L,KAAMlM,cAAYyB,KAAKC,KACvByF,KAAMnH,cAAYyB,KAAKE,OARQ,mBAK1BwJ,EAL0B,KAKpB0F,EALoB,KAe3BhF,EAAiB,WACrB,OAAQX,EAASS,QAAWT,EAASS,QAAQG,aAAe,GAGxD0E,EAAkB3G,uBAAY,SAAC5B,GACnC4I,GAAQ,SAAA9D,GAAS,kCAAUA,GAAV,IAAqB3F,MAAOa,SAC5C,IAEG6I,EAAiBjH,uBAAY,SAAC5B,GAClC4I,GAAQ,SAAA9D,GAAS,kCAAUA,GAAV,IAAqBb,KAAMjE,SAC3C,IAEG8I,EAAiBlH,uBAAY,SAAC5B,GAClC4I,GAAQ,SAAA9D,GAAS,kCAAUA,GAAV,IAAqB5F,KAAMc,SAC3C,IAEG+I,EAA8BnH,uBAAY,SAAC5B,GAC/CgD,EAAUU,QAAS7D,MAAMN,gBAAkBS,IAC1C,IAEGgJ,EAAcpH,uBAAY,WAC9B,IAAMpH,EAxBEwI,EAAUU,QAAWV,EAAUU,QAAQC,WAAW,MAAQ,KAyB9DnJ,GACFA,EAAIyO,UAAU,EAAG,EAAGP,EAAOxM,MAAOwM,EAAOvM,UAE1C,CAACuM,IAEEQ,EAAStH,uBAAY,SAACY,GAC1BmG,GAAU,SAAA7D,GAAS,kCACdA,GADc,IAEjB5I,MAAOsG,EAAE6F,cAAcc,WACvBhN,OAAQqG,EAAE6F,cAAclC,YAAcvC,WAEvC,IA4BH,OAVAxB,EAAiBtK,iBAAegC,OAAQoP,GAExCzG,qBAAU,WACRkG,GAAU,SAAA7D,GAAS,kCACdA,GADc,IAEjB5I,MAAOwG,OAAOwD,WACd/J,OAAQuG,OAAOyD,YAAcvC,WAE9B,IAGC,qCACE,cAACf,EAAD,CAAQG,UAAWA,EAAWC,SAAUA,EAAUC,KAAMA,IACxD,cAACgE,EAAD,CAAOvB,IAAK1C,EAAUxG,SAAUyG,EAAKhE,KACnCkI,kBAAqC4B,EACrC7B,kCAAqC4B,EACrC1B,oBA5BoB,WAC1B,IAAM7M,EAAMwI,EAAUU,QACtB,GAAKlJ,EAAL,CAEA,IAAM4O,EAAgB5O,EAAI6O,UAAU,aAC9BC,EAAmCC,SAASC,cAAc,KAEhEF,EAAcG,SAAW,YACzBH,EAAcI,KAAON,EACrBE,EAAcK,UAoBRrC,eAjCS,WACfmB,GAAY7C,IAiCN2B,sBAAqCgB,EACrCf,qBAAqCqB,EACrCpB,qBAAqCqB,IAEvC,cAACrD,EAAD,CAAQE,IAAK3C,EAAWC,SAAUA,EAChC/G,MAAOwM,EAAOxM,MAAOC,OAAQuM,EAAOvM,OAAQyJ,QAASA,SCtFhDgE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCFdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFhB,SAASiB,eAAe,SAM1BZ,M","file":"static/js/main.522c4f5f.chunk.js","sourcesContent":["exports.__esModule = true;\nexports.EVENT_LISTENER = exports.APP_SETTING = exports.CURSOR_CLASS = exports.KEYBOARD_KEY = exports.TOOL_MODE = exports.CURSOR_STYLE = exports.COLOR = void 0;\nexports.COLOR = {\n    BLACK: 'rgb(  0,   0,   0)',\n    WHITE: 'rgb(255, 255, 255)',\n    RED: 'rgb(235,  64,  52)',\n    GREEN: 'rgb( 50, 168,  82)',\n    BLUE: 'rgb( 66, 135, 245)'\n};\nexports.CURSOR_STYLE = {\n    CROSSHAIR: 'cursor crosshair',\n    CIRCLE: 'cursor circle',\n    SQUARE: 'cursor square',\n    TEXT: 'cursor text'\n};\nexports.TOOL_MODE = {\n    PEN: 'PEN',\n    CIRCLE: 'CIRCLE',\n    SQUARE: 'SQUARE',\n    SHAPE: {\n        RECT: 'SHAPE_RECT',\n        ELLIPSE: 'SHAPE_ELLIPSE'\n    }\n};\nexports.KEYBOARD_KEY = {\n    E: 'e',\n    SHIFT: 'Shift'\n};\n// Constants with dependencies of previous constant\nexports.CURSOR_CLASS = {\n    PEN: exports.CURSOR_STYLE.CROSSHAIR,\n    CIRCLE: exports.CURSOR_STYLE.CIRCLE,\n    SQUARE: exports.CURSOR_STYLE.SQUARE,\n    SHAPE_RECT: exports.CURSOR_STYLE.CROSSHAIR,\n    SHAPE_ELLIPSE: exports.CURSOR_STYLE.CROSSHAIR,\n    TEXT: exports.CURSOR_STYLE.TEXT\n};\nexports.APP_SETTING = {\n    CANVAS: {\n        BACKGROUND_COLOR: exports.COLOR.WHITE\n    },\n    TOOL: {\n        MODE: exports.TOOL_MODE.PEN,\n        COLOR: exports.COLOR.BLACK,\n        SIZE: 10\n    },\n    GRID: {\n        LINE_WIDTH: 1,\n        GAP: 30\n    }\n};\nexports.EVENT_LISTENER = {\n    RESIZE: 'resize',\n    MOUSE: {\n        UP: 'mouseup',\n        DOWN: 'mousedown',\n        MOVE: 'mousemove'\n    },\n    KEY: {\n        UP: 'keyup',\n        DOWN: 'keydown'\n    },\n    TOUCH: {\n        START: 'touchstart',\n        END: 'touchend',\n        MOVE: 'touchmove'\n    }\n};\n","exports.__esModule = true;\nexports.CANVAS = void 0;\nexports.CANVAS = {\n    LINE_WIDTH: 1,\n    drawCircle: function (ctx, x, y, radius, strokeColor, fillColor) {\n        ctx.beginPath();\n        ctx.lineWidth = this.LINE_WIDTH;\n        ctx.strokeStyle = strokeColor;\n        ctx.arc(x, y, radius, 0, Math.PI * 2, false);\n        ctx.fillStyle = fillColor;\n        ctx.fill();\n        ctx.stroke();\n    },\n    drawEllipse: function (ctx, x, y, radiusX, radiusY, strokeColor, fillColor) {\n        ctx.beginPath();\n        ctx.lineWidth = this.LINE_WIDTH;\n        ctx.strokeStyle = strokeColor;\n        ctx.ellipse(x, y, radiusX, radiusY, Math.PI, 0, Math.PI * 2, false);\n        ctx.fillStyle = fillColor;\n        ctx.fill();\n        ctx.stroke();\n    },\n    drawLine: function (ctx, x, y, lineWidth, strokeColor) {\n        ctx.lineTo(x, y);\n        ctx.strokeStyle = strokeColor;\n        ctx.lineWidth = lineWidth;\n        ctx.stroke();\n    },\n    drawSquare: function (ctx, x, y, sideLen, fillColor) {\n        ctx.fillStyle = fillColor;\n        ctx.fillRect(x, y, sideLen, sideLen);\n    },\n    drawRectangle: function (ctx, x, y, width, height, fillColor) {\n        ctx.fillStyle = fillColor;\n        ctx.fillRect(x, y, width, height);\n    },\n    finishDraw: function (ctx) {\n        ctx.beginPath(); // start new drawing\n    },\n    getHalfLineWidth: function () {\n        return this.LINE_WIDTH / 2;\n    },\n    getTriangleHypotenuse: function (x, y) {\n        return Math.sqrt((x * x) + (y * y));\n    },\n    SQUARE: {\n        getX: function (x, toolSize) {\n            return x - (toolSize / 2);\n        },\n        getY: function (y, toolSize) {\n            return this.getX(y, toolSize);\n        }\n    },\n    CIRCLE: {\n        // arc total radius is determined by radius plus lineWidth\n        getRadius: function (toolSize) {\n            var radius = (toolSize / 2) - exports.CANVAS.LINE_WIDTH;\n            return radius > 0 ? radius : exports.CANVAS.LINE_WIDTH / 2; // prevent radius below or equal to 0\n        }\n    }\n};\n","exports.__esModule = true;\nexports.SHAPE = void 0;\nexports.SHAPE = {\n    isEndXLeft: function (x1, x2) {\n        return (x1 < x2) ? true : false;\n    },\n    isEndYDown: function (y1, y2) {\n        return this.isEndXLeft(y1, y2);\n    },\n    getX: function (x1, x2) {\n        return (x1 < x2) ? x1 : x2;\n    },\n    getY: function (y1, y2) {\n        return this.getX(y1, y2);\n    },\n    getWidth: function (x1, x2) {\n        return (x1 < x2) ? (x2 - x1) : (x1 - x2);\n    },\n    getHeight: function (y1, y2) {\n        return this.getWidth(y1, y2);\n    },\n    getMinSideLength: function (startX, startY, endX, endY) {\n        var width = Math.abs(endX - startX);\n        var height = Math.abs(endY - startY);\n        return width < height ? width : height;\n    },\n    getCenterPosition: function (startX, startY, endX, endY) {\n        var x = (startX + endX) / 2;\n        var y = (startY + endY) / 2;\n        return { x: x, y: y };\n    },\n    getEllipse: function (startX, startY, endX, endY) {\n        var _a = this.getCenterPosition(startX, startY, endX, endY), x = _a.x, y = _a.y;\n        var radiusX = this.getWidth(startX, endX) / 2;\n        var radiusY = this.getHeight(startY, endY) / 2;\n        return { x: x, y: y, radiusX: radiusX, radiusY: radiusY };\n    },\n    // x, y are the center of circle\n    getCircle: function (startX, startY, endX, endY) {\n        var x = startX;\n        var y = startY;\n        var radius = this.getMinSideLength(startX, startY, endX, endY) / 2;\n        var isEndXLeft = this.isEndXLeft(startX, endX);\n        var isEndYDown = this.isEndYDown(startY, endY);\n        if (isEndXLeft && isEndYDown) {\n            x += radius;\n            y += radius;\n        }\n        else if (!isEndXLeft && isEndYDown) {\n            x -= radius;\n            y += radius;\n        }\n        else if (isEndXLeft && !isEndYDown) {\n            x += radius;\n            y -= radius;\n        }\n        else {\n            x -= radius;\n            y -= radius;\n        }\n        return { x: x, y: y, radius: radius };\n    },\n    // get regular shape which draws from top left\n    getRegularShape: function (startX, startY, endX, endY) {\n        var sideLength = this.getMinSideLength(startX, startY, endX, endY);\n        var x = startX;\n        var y = startY;\n        var isEndXLeft = this.isEndXLeft(startX, endX);\n        var isEndYDown = this.isEndYDown(startY, endY);\n        if (isEndXLeft && isEndYDown) {\n            return { x: x, y: y, sideLength: sideLength };\n        }\n        else if (!isEndXLeft && isEndYDown) {\n            x -= sideLength;\n        }\n        else if (isEndXLeft && !isEndYDown) {\n            y -= sideLength;\n        }\n        else {\n            x = startX - sideLength;\n            y = startY - sideLength;\n        }\n        return { x: x, y: y, sideLength: sideLength };\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.STYLE = void 0;\nexports.STYLE = {\n    getPosition: function (x, y) {\n        return {\n            '--x': x + \"px\",\n            '--y': y + \"px\"\n        };\n    },\n    getWidthAndHeight: function (width, height) {\n        return {\n            '--width': width + \"px\",\n            '--height': height + \"px\"\n        };\n    },\n    getPen: function (x, y, size, color) {\n        var halfSize = size / 2;\n        return __assign(__assign({}, this.getPosition(x - halfSize, y)), { '--crosshairVerticalX': halfSize + \"px\", '--crosshairVerticalY': -halfSize + \"px\", '--size': size + \"px\", '--color': \"\" + color });\n    },\n    getCircle: function (x, y, size, color) {\n        var halfSize = size / 2;\n        return __assign(__assign({}, this.getPosition(x - halfSize, y - halfSize)), { '--size': size + \"px\", '--color': \"\" + color });\n    },\n    getSquare: function (x, y, size, color) {\n        return this.getCircle(x, y, size, color);\n    },\n    getShapePreview: function (x, y, width, height, backgroundColor, displayConditions) {\n        var showDisplay = displayConditions.every(function (cond) { return cond === true; });\n        return __assign(__assign(__assign({}, this.getPosition(x, y)), this.getWidthAndHeight(width, height)), { '--backgroundColor': \"\" + backgroundColor, '--display': \"\" + (showDisplay ? 'inline' : 'none') });\n    },\n    getCirclePreview: function (x, y, width, height, backgroundColor, displayConditions) {\n        var style = this.getShapePreview(x, y, width, height, backgroundColor, displayConditions);\n        style['borderRadius'] = '50%';\n        return style;\n    }\n};\n","exports.__esModule = true;\nexports.COLOR = void 0;\nexports.COLOR = {\n    // Typescript enum hexMap\n    hexAlphabets: ['A', 'B', 'C', 'D', 'E', 'F'],\n    convertHexToRgb: function (value) {\n        var redValue = parseInt(value.substr(1, 2), 16);\n        var greenValue = parseInt(value.substr(3, 2), 16);\n        var blueValue = parseInt(value.substr(5, 2), 16);\n        return \"rgb(\" + redValue + \",\" + greenValue + \",\" + blueValue + \")\";\n    },\n    convertNumToHex: function (value) {\n        var maxSingleNum = 9;\n        var hexIndex = 10;\n        var hex = value.toString();\n        if (value > maxSingleNum) {\n            hex = this.hexAlphabets[value - hexIndex];\n        }\n        return hex;\n    },\n    convertDecimalToHex: function (value) {\n        var hexTotalCount = 16;\n        var maxHexNum = 15;\n        var priorDigit = 0;\n        var currentDigit = 0;\n        while (value > maxHexNum) {\n            value -= hexTotalCount;\n            priorDigit++;\n        }\n        var priorHexDigit = this.convertNumToHex(priorDigit);\n        var currentHexDigit = this.convertNumToHex(currentDigit);\n        return \"\" + priorHexDigit + currentHexDigit;\n    },\n    convertRgbToHex: function (value) {\n        var hex = '#';\n        // split by 3 digit numbers\n        var rgbEachValues = value.match(/[0-9]+/g);\n        if (rgbEachValues) {\n            for (var _i = 0, rgbEachValues_1 = rgbEachValues; _i < rgbEachValues_1.length; _i++) {\n                var rgbValue = rgbEachValues_1[_i];\n                hex += this.convertDecimalToHex(Number(rgbValue));\n            }\n        }\n        return hex;\n    }\n};\n","exports.__esModule = true;\nexports.REGREX = void 0;\nexports.REGREX = {\n    getRegrexNumberRange: function (start, end) {\n        if (start) {\n            return new RegExp(\"[\" + start + \"-\" + end + \"]\");\n        }\n        return new RegExp(\"[\" + 0 + \"-\" + end + \"]\");\n    }\n};\n","import React, { useCallback, useMemo } from 'react';\r\nimport { TOOL_MODE } from '../helper/constants';\r\nimport { SHAPE } from '../helper/shape';\r\nimport { STYLE } from '../helper/style';\r\nimport { Type } from '../types';\r\n\r\ninterface Props {\r\n    dragPosition: Type.DragPosition;\r\n    isShiftKeyOn: boolean;\r\n    position: Type.Position;\r\n    previewConditions: boolean[];\r\n    regularShape: Type.RegularShape;\r\n    toolColor: string;\r\n    toolMode: string;\r\n}\r\n\r\nexport const ShapePreviewer: React.FC<Props> = (\r\n    { dragPosition, isShiftKeyOn, toolColor, toolMode, position, previewConditions, regularShape }) => {\r\n\r\n    const getShapePreview = useCallback((): Type.Shape => {\r\n        const x = SHAPE.getX(dragPosition.x, position.x);\r\n        const y = SHAPE.getY(dragPosition.y, position.y);\r\n        const width = SHAPE.getWidth(dragPosition.x, position.x);\r\n        const height = SHAPE.getHeight(dragPosition.y, position.y);\r\n        return { x, y, width, height };\r\n    }, [dragPosition, position]);\r\n\r\n    const rectanglePreviewStyle = useMemo((): Type.Style => {\r\n        const { x, y, width, height } = getShapePreview();\r\n\r\n        return STYLE.getShapePreview(x, y, width, height, toolColor, previewConditions);\r\n    }, [toolColor, previewConditions, getShapePreview]);\r\n\r\n    const ellipsePreviewStyle = useMemo((): Type.Style => {\r\n        const { x, y, width, height } = getShapePreview();\r\n\r\n        return STYLE.getCirclePreview(x, y, width, height, toolColor, previewConditions);\r\n    }, [toolColor, previewConditions, getShapePreview]);\r\n\r\n    const squarePreviewStyle = useMemo((): Type.Style => {\r\n        const { x, y, sideLength } = regularShape;\r\n\r\n        return STYLE.getShapePreview(x, y, sideLength, sideLength, toolColor, previewConditions);\r\n    }, [toolColor, regularShape, previewConditions]);;\r\n\r\n    const circlePreviewStyle = useMemo((): Type.Style => {\r\n        const { x, y, sideLength } = regularShape;\r\n\r\n        return STYLE.getCirclePreview(x, y, sideLength, sideLength, toolColor, previewConditions);\r\n    }, [toolColor, regularShape, previewConditions]);\r\n\r\n    const getShapePreviewStyle = (): Type.Style => {\r\n        switch (toolMode) {\r\n            case TOOL_MODE.SHAPE.RECT:\r\n                return (isShiftKeyOn) ? squarePreviewStyle : rectanglePreviewStyle;\r\n            case TOOL_MODE.SHAPE.ELLIPSE:\r\n                return (isShiftKeyOn) ? circlePreviewStyle : ellipsePreviewStyle;\r\n            default:\r\n                break;\r\n        }\r\n        \r\n        return { };\r\n    };\r\n\r\n    return (\r\n        <div className='shape-previewer' style={getShapePreviewStyle()}/>\r\n    );\r\n};","import { useEffect, useCallback } from 'react';\r\n\r\nexport const useEventListener = (eventName: string, func: Function) => {\r\n    const eventHandler = useCallback((e: any): void => {\r\n        func(e);\r\n    }, [func]);\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(eventName, eventHandler);\r\n    \r\n        return () => {\r\n            window.removeEventListener(eventName, eventHandler);\r\n        };\r\n    }, [eventName, eventHandler]);\r\n};","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { ShapePreviewer } from './ShapePreviewer';\r\nimport { TOOL_MODE, CURSOR_CLASS, KEYBOARD_KEY, EVENT_LISTENER } from '../helper/constants';\r\nimport { CANVAS } from '../helper/canvas';\r\nimport { SHAPE } from '../helper/shape';\r\nimport { STYLE } from '../helper/style';\r\nimport { Type } from '../types';\r\nimport { useEventListener } from '../hooks/useEventListener';\r\n\r\ninterface Props {\r\n    canvasRef: React.RefObject<HTMLCanvasElement>;\r\n    panelRef: React.RefObject<HTMLDivElement>;\r\n    tool: Type.Tool;\r\n}\r\n\r\nexport const Cursor: React.FC<Props> = React.memo(({ canvasRef, panelRef, tool }) => {\r\n    const [position, setPosition] = useState<Type.Position>({ x: 0, y: 0, });\r\n    const [dragPosition, setDragPosition] = useState<Type.DragPosition>({ x: 0, y: 0, });\r\n    const [drawable, setDrawable] = useState<boolean>(false);\r\n    const [isShiftKeyOn, setIsShiftKeyOn] = useState<boolean>(false);\r\n\r\n    const getCursorStyle = (): Type.Style => {\r\n        switch (tool.mode) {\r\n            case TOOL_MODE.CIRCLE:\r\n                return STYLE.getCircle(position.x, position.y, tool.size, tool.color);\r\n            case TOOL_MODE.SQUARE:\r\n                return STYLE.getSquare(position.x, position.y, tool.size, tool.color);\r\n        }\r\n        \r\n        return STYLE.getPen(position.x, position.y, tool.size, tool.color);\r\n    };\r\n\r\n    const getCanvasContext = useCallback((): CanvasRenderingContext2D | null => {\r\n        return canvasRef.current ? canvasRef.current.getContext('2d') : null;\r\n    }, [canvasRef]);\r\n\r\n    const getPanelHeight = useCallback((): number => {\r\n        return panelRef.current ? panelRef.current.clientHeight : 0;\r\n    }, [panelRef]);\r\n\r\n    const isShapeMode = useCallback((): boolean => {\r\n        return Object.values(TOOL_MODE.SHAPE).some(mode => mode === tool.mode);\r\n    }, [tool.mode]);\r\n\r\n    const getDragPosition = useCallback((): Type.DragPosition => {\r\n        return { x: dragPosition.x, y: dragPosition.y };\r\n    }, [dragPosition]);\r\n\r\n    const getPosition = useCallback((): Type.Position => {\r\n        return { x: position.x, y: position.y };\r\n    }, [position]);\r\n\r\n    const getPreviewConditions = useCallback((): boolean[] => {\r\n        return [drawable, isShapeMode()];\r\n    }, [drawable, isShapeMode]);\r\n\r\n    const getRegularShape = useCallback((): Type.RegularShape => {\r\n        return SHAPE.getRegularShape(dragPosition.x, dragPosition.y, position.x, position.y);\r\n    }, [position, dragPosition]);\r\n\r\n    const getShapeEllipse = useCallback((): Type.Ellipse => {\r\n        return SHAPE.getEllipse(dragPosition.x, dragPosition.y, position.x, position.y);\r\n    }, [position, dragPosition]);\r\n\r\n    const getShapeCircle = useCallback((): Type.Circle => {\r\n        return SHAPE.getCircle(dragPosition.x, dragPosition.y, position.x, position.y);\r\n    }, [position, dragPosition]);\r\n\r\n    const drawShapeRectangle = useCallback((): void => {\r\n        const ctx = getCanvasContext();\r\n        if (!ctx) return;\r\n\r\n        const y = dragPosition.y - getPanelHeight();\r\n        const width = position.x - dragPosition.x;\r\n        const height = position.y - dragPosition.y;\r\n\r\n        CANVAS.drawRectangle(ctx, dragPosition.x, y, width, height, tool.color);\r\n    }, [position, dragPosition, tool.color, getCanvasContext, getPanelHeight]);\r\n\r\n    const drawShapeSquare = useCallback((): void => {\r\n        const ctx = getCanvasContext();\r\n        if (!ctx) return;\r\n\r\n        const { x, y, sideLength } = getRegularShape();\r\n        CANVAS.drawSquare(ctx, x, y - getPanelHeight(), sideLength, tool.color);\r\n    }, [tool.color, getCanvasContext, getPanelHeight, getRegularShape]);\r\n\r\n    const drawShapeEllipse = useCallback((): void => {\r\n        const ctx = getCanvasContext();\r\n        if (!ctx) return;\r\n\r\n        const { x, y, radiusX, radiusY } = getShapeEllipse();\r\n        CANVAS.drawEllipse(ctx, x, y - getPanelHeight(), radiusX, radiusY, tool.color, tool.color);\r\n    }, [tool.color, getCanvasContext, getPanelHeight, getShapeEllipse]);\r\n\r\n    const drawShapeCircle = useCallback((): void => {\r\n        const ctx = getCanvasContext();\r\n        if (!ctx) return;\r\n\r\n        const { x, y, radius } = getShapeCircle();\r\n        CANVAS.drawCircle(ctx, x, y - getPanelHeight(), radius, tool.color, tool.color);\r\n    }, [tool.color, getCanvasContext, getPanelHeight, getShapeCircle]);\r\n\r\n    const drawPen = useCallback((): void => {\r\n        const ctx = getCanvasContext();\r\n        if (!ctx) return;\r\n\r\n        const y = position.y - getPanelHeight();\r\n        CANVAS.drawLine(ctx, position.x, y, tool.size, tool.color);\r\n    }, [position, tool.size, tool.color, getCanvasContext, getPanelHeight]);\r\n\r\n    const drawCircle = useCallback((): void => {\r\n        const ctx = getCanvasContext();\r\n        if (!ctx) return;\r\n\r\n        const y = position.y - getPanelHeight();\r\n        const radius = CANVAS.CIRCLE.getRadius(tool.size);\r\n        CANVAS.drawCircle(ctx, position.x, y, radius, tool.color, tool.color);\r\n    }, [position, tool.color, tool.size, getCanvasContext, getPanelHeight]);\r\n\r\n    const drawSquare = useCallback((): void => {\r\n        const ctx = getCanvasContext();\r\n        if (!ctx) return;\r\n\r\n        const x = CANVAS.SQUARE.getX(position.x, tool.size);\r\n        const y = CANVAS.SQUARE.getY(position.y, tool.size) - getPanelHeight();\r\n        CANVAS.drawSquare(ctx, x, y, tool.size, tool.color);\r\n    }, [position, tool.color, tool.size, getCanvasContext, getPanelHeight]);\r\n\r\n    const draw = useCallback((): void => {\r\n        const { PEN, CIRCLE, SQUARE } = TOOL_MODE;\r\n        switch (tool.mode) {\r\n            case PEN:\r\n                drawPen();\r\n                break;\r\n            case CIRCLE:\r\n                drawCircle();\r\n                break;\r\n            case SQUARE:\r\n                drawSquare();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }, [tool.mode, drawPen, drawCircle, drawSquare]);\r\n\r\n    const mouseUp = useCallback((): void => {\r\n        setDrawable(false);\r\n        /* \r\n            since canvas can't have draggable attribute, onDrag doesn't work,\r\n            therefore use mouseUp and mouseDown to simulate drag to draw shapes\r\n        */\r\n        switch (tool.mode) {\r\n            case TOOL_MODE.SHAPE.RECT:\r\n                (isShiftKeyOn) ? drawShapeSquare() : drawShapeRectangle();\r\n                break;\r\n            case TOOL_MODE.SHAPE.ELLIPSE:\r\n                (isShiftKeyOn) ? drawShapeCircle() : drawShapeEllipse();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        const ctx = getCanvasContext();\r\n        if (!ctx) return;\r\n\r\n        CANVAS.finishDraw(ctx);\r\n    }, [tool.mode, isShiftKeyOn, drawShapeRectangle, drawShapeSquare, drawShapeEllipse, drawShapeCircle , getCanvasContext]);\r\n\r\n    const mouseDown = useCallback((): void => {\r\n        setDrawable(true);\r\n\r\n        if (isShapeMode()) {\r\n            setDragPosition(prevState => ({\r\n                ...prevState,\r\n                x: position.x,\r\n                y: position.y,\r\n            }));\r\n        }\r\n    }, [position, isShapeMode]);\r\n\r\n    const mouseMove = useCallback((e: MouseEvent): void => {\r\n        setPosition(prevState => ({\r\n            ...prevState, \r\n            x: e.x,\r\n            y: e.y,\r\n        }));\r\n    }, []);\r\n\r\n    const touchMove = useCallback((e: TouchEvent): void => {\r\n        setPosition(prevState => ({\r\n            ...prevState, \r\n            x: e.targetTouches[0].clientX,\r\n            y: e.targetTouches[0].clientY,\r\n        }));\r\n    }, []);\r\n\r\n    const keyUp = useCallback((): void => {\r\n        setIsShiftKeyOn(false);\r\n    }, []);\r\n\r\n    const keyDown = useCallback((e: KeyboardEvent): void => {\r\n        setIsShiftKeyOn(e.key === KEYBOARD_KEY.SHIFT);\r\n    }, []);\r\n\r\n    useEffect((): void => {\r\n        if (drawable) {\r\n            draw();\r\n        }\r\n    }, [drawable, draw]);\r\n\r\n    useEventListener(EVENT_LISTENER.MOUSE.UP, mouseUp);\r\n    useEventListener(EVENT_LISTENER.MOUSE.DOWN, mouseDown);\r\n    useEventListener(EVENT_LISTENER.MOUSE.MOVE, mouseMove);\r\n\r\n    useEventListener(EVENT_LISTENER.KEY.UP, keyUp);\r\n    useEventListener(EVENT_LISTENER.KEY.DOWN, keyDown);\r\n\r\n    useEventListener(EVENT_LISTENER.TOUCH.START, mouseDown);\r\n    useEventListener(EVENT_LISTENER.TOUCH.END, mouseUp);\r\n    useEventListener(EVENT_LISTENER.TOUCH.MOVE, touchMove);\r\n\r\n    return (\r\n        <>\r\n            <div id='cursor' className={CURSOR_CLASS[tool.mode]} style={getCursorStyle()}/>\r\n            <ShapePreviewer toolMode={tool.mode} toolColor={tool.color} isShiftKeyOn={isShiftKeyOn} \r\n                dragPosition      = {getDragPosition()}\r\n                position          = {getPosition()}\r\n                previewConditions = {getPreviewConditions()}\r\n                regularShape      = {getRegularShape()}\r\n            />\r\n        </>\r\n    );\r\n});","import React, { useState, useEffect, useCallback, RefObject } from 'react';\r\nimport { APP_SETTING } from '../helper/constants';\r\nimport { Type } from '../types';\r\n\r\ninterface Props {\r\n    ref: RefObject<HTMLCanvasElement>;\r\n    panelRef: RefObject<HTMLDivElement>;\r\n    width: number;\r\n    height: number;\r\n    hasGrid: boolean;\r\n}\r\n\r\ntype Ref = HTMLCanvasElement;\r\n\r\nexport const Canvas: React.FC<Props> = React.memo(React.forwardRef<Ref, Props>((\r\n    { width, height, hasGrid, panelRef }, ref) => {\r\n    const [grid, setGrid] = useState<Type.Grid>({\r\n        x: 0,\r\n        y: 0,\r\n        rows: 0,\r\n        cols: 0,\r\n        lineGap: APP_SETTING.GRID.GAP, \r\n    });\r\n\r\n    const getPanelHeight = useCallback(() => {\r\n        return (panelRef.current) ? panelRef.current.clientHeight : 0;\r\n    }, [panelRef]);\r\n\r\n    useEffect((): void => {\r\n        setGrid(prevState => ({\r\n            ...prevState,\r\n            x: 0,\r\n            y: getPanelHeight(),\r\n            cols: window.innerWidth,\r\n            rows: window.innerHeight,\r\n        }));\r\n    }, [getPanelHeight]);\r\n\r\n    const createGrid = useCallback((): React.ReactElement[] => {\r\n        let gridLines: React.ReactElement[] = [];\r\n        \r\n        for (let i = grid.y; i < grid.rows + grid.y; i += grid.lineGap) {\r\n            gridLines.push(\r\n                <span className='grid-line horizontal' key={`horizontal${i}`}\r\n                    style={{ 'top': `${i}px` }}> \r\n                </span>\r\n            );\r\n        }\r\n        for (let i = 0; i < grid.cols; i += grid.lineGap) {\r\n            gridLines.push(\r\n                <span className='grid-line vertical' key={`vertical${i}`}\r\n                    style={{\r\n                        'top': `${grid.y}px`,\r\n                        'left': `${i}px`,\r\n                        'height': `calc(100% - ${grid.y}px)`,\r\n                    }}>\r\n                </span>\r\n            );\r\n        }\r\n\r\n        return gridLines;\r\n    }, [grid]);\r\n\r\n    useEffect((): void => {\r\n        setGrid(prevState => ({\r\n            ...prevState,\r\n            x: 0,\r\n            y: getPanelHeight(),\r\n            cols: width,\r\n            rows: height,\r\n        }));\r\n    }, [width, height, getPanelHeight]);\r\n\r\n    return (\r\n        <>\r\n            <canvas id='canvas' ref={ref} width={width} height={height}/>\r\n            {hasGrid && createGrid()}\r\n        </>\r\n    );\r\n}));","import React, { RefObject } from 'react';\r\n\r\ntype Ref = HTMLInputElement;\r\n\r\ninterface BackgroundProps {\r\n    ref: RefObject<HTMLInputElement>;\r\n    defaultValue: string;\r\n    handleBackgroundColorChange(e: React.ChangeEvent<HTMLInputElement>): void;\r\n}\r\n\r\ninterface Props {\r\n    handleOnClick(): void;\r\n}\r\n\r\nexport const BackgroundPicker: React.FC<BackgroundProps> = React.memo(React.forwardRef<Ref, BackgroundProps>((props, ref) => {\r\n    return (\r\n        <input type='color' className='canvas-background-picker' \r\n            ref={ref} defaultValue={props.defaultValue}\r\n            onChange={(e) => props.handleBackgroundColorChange(e)}\r\n        />\r\n    );\r\n}));\r\n\r\nexport const Grid: React.FC<Props> = React.memo((props) => {\r\n    return (\r\n        <button className='icon grid' onClick={() => props.handleOnClick()}/>\r\n    );\r\n});\r\n\r\nexport const TrashCan: React.FC<Props> = React.memo((props) => {\r\n    return (\r\n        <button className='icon trash-can' onClick={() => props.handleOnClick()}/>\r\n    );\r\n});\r\n\r\nexport const Save: React.FC<Props> = React.memo((props) => {\r\n    return (\r\n        <button className='icon save' onClick={() => props.handleOnClick()}/>\r\n    );\r\n});","import React, { RefObject, useCallback, useMemo, useRef } from 'react';\r\nimport { COLOR as COLOR_CONVERTER } from '../helper/color';\r\nimport { APP_SETTING, COLOR, TOOL_MODE, EVENT_LISTENER } from '../helper/constants';\r\nimport { BackgroundPicker, Grid, TrashCan, Save } from './Functions';\r\nimport { useEventListener } from '../hooks/useEventListener';\r\nimport { REGREX } from '../helper/regrex';\r\n\r\ninterface Props {\r\n    ref: RefObject<HTMLDivElement>;\r\n    toolSize: number;\r\n    handleCanvasClear: Function;\r\n    handleCanvasBackgroundColorChange: Function;\r\n    handleExportAsImage: Function;\r\n    handleToolColorChange: Function;\r\n    handleToolModeChange: Function;        \r\n    handleToolSizeChange: Function; \r\n    handleGridShow: Function;\r\n}\r\n\r\ntype Ref = HTMLDivElement;\r\n\r\nexport const Panel: React.FC<Props> = React.memo(React.forwardRef<Ref, Props>((\r\n    { toolSize, handleCanvasBackgroundColorChange, handleCanvasClear,\r\n    handleExportAsImage, handleGridShow, handleToolColorChange,\r\n    handleToolModeChange, handleToolSizeChange, }, ref) => {\r\n\r\n    const toolSizeRef = useRef<HTMLInputElement>(null);\r\n    const canvasBackgroundPickerRef = useRef<HTMLInputElement>(null);\r\n\r\n    const colors = useMemo((): string[] => {\r\n        return ([\r\n            COLOR.BLACK,\r\n            COLOR.WHITE,\r\n            COLOR.RED,\r\n            COLOR.GREEN,\r\n            COLOR.BLUE,\r\n        ]);\r\n    }, []);\r\n\r\n    const modes = useMemo(() => {\r\n        return ([\r\n            { className: 'pen', name: TOOL_MODE.PEN },\r\n            { className: 'circle', name: TOOL_MODE.CIRCLE },\r\n            { className: 'square', name: TOOL_MODE.SQUARE },\r\n        ]);\r\n    }, []);\r\n\r\n    const shapeModes = useMemo(() => {\r\n        return ([\r\n            { className: 'ellipse', name: TOOL_MODE.SHAPE.ELLIPSE },\r\n            { className: 'rect', name: TOOL_MODE.SHAPE.RECT },\r\n        ]);\r\n    }, []);\r\n\r\n    const keyDown = useCallback((e: KeyboardEvent): void => {\r\n        if (colors.length === 0) {\r\n            return;\r\n        }\r\n        const colorNum: RegExp = REGREX.getRegrexNumberRange(1, colors.length);\r\n        // passing color element at out of boundary index casues vertical pen cursor to disappear\r\n        if (e.key.match(colorNum)) {\r\n            handleToolColorChange(colors[Number(e.key) - 1]);\r\n        }\r\n    }, [handleToolColorChange, colors]);\r\n\r\n    const changeToolColor = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        const color: string = COLOR_CONVERTER.convertHexToRgb(e.currentTarget.value);\r\n        handleToolColorChange(color);\r\n    };\r\n    \r\n    const changeBackgroundColor = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        const color: string = COLOR_CONVERTER.convertHexToRgb(e.currentTarget.value);\r\n        handleCanvasBackgroundColorChange(color);\r\n    };\r\n\r\n    useEventListener(EVENT_LISTENER.KEY.DOWN, keyDown);\r\n\r\n    return (\r\n        <div id='panel' ref={ref}> \r\n            <div className='tool-mode'>\r\n                {modes.map((mode) => \r\n                    <button key={`tool_${mode.name}`} className={`icon ${mode.className}`} \r\n                        onClick={() => handleToolModeChange(mode.name)}\r\n                    />\r\n                )}\r\n            </div>\r\n            <div className='tool-size'>\r\n                <label className='lbl-size'>{toolSize}</label>\r\n                <input type='range' className='ipt-size' id='mouseRadius' min='1' max='100' \r\n                    ref={toolSizeRef} defaultValue={toolSize}\r\n                    onChange={(e) => handleToolSizeChange(e.currentTarget.value)}\r\n                />\r\n            </div>\r\n            <div className='color-palette'>\r\n                {colors.map(color => \r\n                    <button key={color} className='btn color' \r\n                        style={{backgroundColor: color}}\r\n                        onClick={() => handleToolColorChange(color)}\r\n                    />\r\n                )}\r\n                <input type='color' className='tool-color-picker' \r\n                    defaultValue={COLOR_CONVERTER.convertRgbToHex(COLOR.WHITE)}\r\n                    onChange={(e) => changeToolColor(e)}\r\n                />\r\n            </div>\r\n           <div className='features'>\r\n                {shapeModes.map((mode) => \r\n                        <button key={`feature_${mode.name}`} className={`icon ${mode.className}`} \r\n                            onClick={() => handleToolModeChange(mode.name)}\r\n                        />\r\n                )}\r\n                <BackgroundPicker ref={canvasBackgroundPickerRef}\r\n                    defaultValue={COLOR_CONVERTER.convertRgbToHex(APP_SETTING.CANVAS.BACKGROUND_COLOR)}\r\n                    handleBackgroundColorChange={changeBackgroundColor}\r\n                />\r\n                <Grid handleOnClick={() => handleGridShow()}/>\r\n                <TrashCan handleOnClick={() => handleCanvasClear()}/>\r\n                <Save handleOnClick={() => handleExportAsImage()}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}));","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Cursor } from './components/Cursor';\nimport { Canvas } from './components/Canvas';\nimport { Panel } from './components/Panel';\nimport { useEventListener } from './hooks/useEventListener';\nimport { APP_SETTING, EVENT_LISTENER } from './helper/constants';\nimport { Type } from './types';\nimport './assets/scss/main.css';\n\nexport const App: React.FC = () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const panelRef = useRef<HTMLDivElement>(null);\n  const [hasGrid, setHasGrid] = useState<boolean>(false);\n  const [canvas, setCanvas] = useState<Type.Canvas>({ width: 0, height: 0, });\n  const [tool, setTool] = useState<Type.Tool>({\n    color: APP_SETTING.TOOL.COLOR,\n    mode: APP_SETTING.TOOL.MODE,\n    size: APP_SETTING.TOOL.SIZE,\n  });\n\n  const getCanvasContext = (): CanvasRenderingContext2D | null => {\n    return (canvasRef.current) ? canvasRef.current.getContext('2d') : null;\n  };\n\n  const getPanelHeight = (): number => {\n    return (panelRef.current) ? panelRef.current.clientHeight : 0;\n  };\n\n  const changeToolColor = useCallback((value: string): void => {\n    setTool(prevState => ({ ...prevState, color: value }));\n  }, []);\n\n  const changeToolMode = useCallback((value: string): void => {\n    setTool(prevState => ({ ...prevState, mode: value }));\n  }, []);\n\n  const changeToolSize = useCallback((value: number): void => {\n    setTool(prevState => ({ ...prevState, size: value }));\n  }, []);\n\n  const changeCanvasBackgroundColor = useCallback((value: string): void => {\n    canvasRef.current!.style.backgroundColor = value;\n  }, []);\n\n  const clearCanvas = useCallback((): void => {\n    const ctx = getCanvasContext();\n    if (ctx) {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n    }\n  }, [canvas]);\n\n  const resize = useCallback((e): void => {\n    setCanvas(prevState => ({\n      ...prevState,\n      width: e.currentTarget.outerWidth, // innerWidth doesn't work\n      height: e.currentTarget.innerHeight - getPanelHeight(),\n    }));\n  }, []);\n\n  const showGrid = (): void => {\n    setHasGrid(!hasGrid);\n  };\n\n  const exportCanvasAsImage = (): void => {\n    const ctx = canvasRef.current;\n    if (!ctx) return;\n    \n    const image: string = ctx.toDataURL('image/png');\n    const anchorElement: HTMLAnchorElement = document.createElement('a');\n\n    anchorElement.download = 'image.png' as string;\n    anchorElement.href = image as string;\n    anchorElement.click();\n  };\n\n  useEventListener(EVENT_LISTENER.RESIZE, resize);\n\n  useEffect(() => {\n    setCanvas(prevState => ({\n      ...prevState, \n      width: window.innerWidth,\n      height: window.innerHeight - getPanelHeight(),\n    }));\n  }, []);\n\n  return (\n      <>\n        <Cursor canvasRef={canvasRef} panelRef={panelRef} tool={tool}/>\n        <Panel ref={panelRef} toolSize={tool.size}\n          handleCanvasClear                 = {clearCanvas}\n          handleCanvasBackgroundColorChange = {changeCanvasBackgroundColor}\n          handleExportAsImage               = {exportCanvasAsImage}\n          handleGridShow                    = {showGrid}\n          handleToolColorChange             = {changeToolColor}\n          handleToolModeChange              = {changeToolMode}\n          handleToolSizeChange              = {changeToolSize} \n        />\n        <Canvas ref={canvasRef} panelRef={panelRef}\n          width={canvas.width} height={canvas.height} hasGrid={hasGrid}\n        />\n      </>\n    );\n};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}